---
import Layout from '../layouts/Layout.astro';
import data from '../data/sitecontent.json';
// import { getCollection } from "astro:content";
// const newsPosts = await getCollection("news");
// const reviewsPosts = await getCollection("reviews");
// const guidesPosts = await getCollection("guides");
import functions from '../js/functions.js';

function filterPost(arr) {
	return arr.filter(item => item.data.draft === false);
}

const res = await fetch('https://pftraveldev.wpengine.com/wp-json/pot/v1/page-meta/1048');
const pageData = await res.json();


// const pageDataPromise = fetch('https://pftraveldev.wpengine.com/wp-json/pot/v1/page-meta/1048').then(res => res.json());
// const blogPostsPromise = fetch('https://pftraveldev.wpengine.com/wp-json/wp/v2/posts?per_page=8&_embed').then(res => res.json());

// const [pageData, posts] = await Promise.all([pageDataPromise, blogPostsPromise]);

// const combinedPosts = ccPosts.concat(posts);

// console.log(pageData);

// bit-alaska post had a cross at the end of the url which threw a build error in netlify
function encodeURIComponent(url) {
    // Define a regular expression to match special characters
	const regex = /[^\w\s\-#]/gi;
    // Replace special characters with an empty string
    const cleanURL = url.replace(regex, '');
    return cleanURL;
}

---
<Layout title="Prince of Travel | Points Consulting" description="Prince of Travel" image="/images/video/pc-social-banner.jpeg">
		<div class="container-fluid px-0" data-aos="fade">
			<div class="row min-vh-100">
				<div class="col-lg-8 offset-lg-2 d-flex flex-column justify-content-center align-items-center text-center p-5">
					<img class="logo animate-in py-4 ps-4 pe-3 rounded-4 bg-dark" style="width: 90px;" src="/images/logos/pot-crown-white.png" alt="Prince of Travel logo" />					
					<!-- <img class="logo animate-in py-4 ps-4 pe-3 rounded-4" style="width: 100px; filter: invert(1); border: 2px solid lightgrey;" src="/images/logos/pot-crown-white.png" alt="Prince of Travel logo" />					 -->
					<h1 class="fw-900 lh-1 ls-1 mb-1 mt-3 animate-in" style="font-size: 13vmin;">{pageData.banner_title}</h1>
					<p class="fs-5 col-lg-8">{pageData.banner_description}</p>
					<!-- <p class="fs-3 col-lg-8">Be inspired to travel <span class="fw-bold">more,</span> <span class="fw-bold">better,</span> and <span class="fw-bold">cheaper</span> with Prince of Travel's expertise in travel rewards, points programs, credit cards, and accommodation.</p> -->
				</div>
			</div>
			<div class="row min-vh-100 position-relative p-5">
				<div class="position-absolute z-0 top-0 start-0 w-100 h-100" style="background: var(--lightblue);" data-aos="fade" data-aos-delay="500"></div>
				<div class="col-lg-8 offset-lg-2 d-flex flex-column justify-content-center align-items-start position-relative">
					<div class="mx-4 mx-lg-0 p-5 rounded-5" style="background: var(--lightblue);">
						<h1 class="fw-bold text-light lh-1 ls-1 mb-1 mt-3 animate-in" style="font-size: 13vmin;"> 
							News. Deals. Guides. Reviews.
						<span class="d-block text-black-50">Start here. Read anywhere.</span>
						</h1>
						<p class="fs-4">Explore the Prince of Traevl blog, a curated platform designed to elevate your travel experiences, ignite your curiosity and expand you expertise. Dive into a wealth of meticulously crafted content ranging from breaking travel news to insider deals, comprehensive travel guides, and personal, candid reviews. Start your journey here, where every article serves as a gateway to new destinations and enriching experiences. Whether you seek off-the-beaten-path adventures or luxury escapes, our blog is your compass.</p>
					</div>
				</div>


		</div><!--end container -->
</Layout>

<script>
	// https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play
	// astro reinit script in SPA mode w/ astro:page-load => didn't work
</script>

<style scoped>

	/* p {
		color: var(--bs-secondary-color);
	} */
	.columns {
    column-count: 4;
    column-gap: 15px;
    -moz-column-count: 4;
    -moz-column-gap: 15px;
    -webkit-column-count: 4;
    -webkit-column-gap: 15px;
    writing-mode: horizontal-tb;

}
@media only screen and (min-width: 1200px) {
  .columns {
    column-count: 4;
    -moz-column-count: 4;
    -webkit-column-count: 4;
  } 
}

@media only screen and (max-width: 992px) {
  .columns {
    column-count: 3;
    -moz-column-count: 3;
    -webkit-column-count: 3;
  } 
}
@media only screen and (max-width: 768px) {
  .columns {
    column-count: 2;
    -moz-column-count: 2;
    -webkit-column-count: 2;
  } 
}
@media only screen and (max-width: 600px) {
  .columns {
    columns: 200px 1;
    -moz-columns: 200px 1;
    -webkit-columns: 200px 1;
  } 
}

#points .card {
	min-height: 315px;
	background: var(--bs-dark);
}

@media screen and (max-width: 768px) {
	#points .card {
	min-height: 250px;
}	
}

li {
  /* list-style-image: url(/right-arrow.svg); */
  /* OR */
  list-style-type: 'âœ±';
  padding-inline-start: 1ch;
}
</style>